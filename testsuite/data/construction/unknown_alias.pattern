%% vim:ft=erlang:

%% TEST
{setup,
  fun() ->
      application:start(yamerl_the_fork)
  end,
  [
    ?_assertThrow(
      {yamerl_the_fork_exception,
        [{yamerl_the_fork_parsing_error,error,
            "No anchor corresponds to alias \"anchor\"",
            2,3,no_matching_anchor,
            {yamerl_the_fork_alias,2,3,"anchor"},
            []}
        ]
      },
      yamerl_the_fork_constr:file("${FILENAME}", [{detailed_constr, false}])
    ),
    ?_assertThrow(
      {yamerl_the_fork_exception,
        [{yamerl_the_fork_parsing_error,error,
            "No anchor corresponds to alias \"anchor\"",
            2,3,no_matching_anchor,
            {yamerl_the_fork_alias,2,3,"anchor"},
            []}
        ]
      },
      yamerl_the_fork_constr:file("${FILENAME}", [{detailed_constr, true}])
    )
  ]
}
